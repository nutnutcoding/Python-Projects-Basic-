import random
match_count = 1
match_win_count = 0
match_draw_count = 0
match_lost_count = 0

print('\n' + 'ğŸ—¿ğŸ“ƒğŸª’' * 10 + '\n')
print("Welcome to Rock Paper Scissors!\nEach match has five rounds. The one who wins the most rounds in that match is declared as the match winner!\n")


def computer_choice():
    computer_choice_number = random.randint(1, 3)
    if computer_choice_number == 1:
        comp_emoji = 'ğŸ—¿'
    elif computer_choice_number == 2:
        comp_emoji = 'ğŸ“ƒ'
    else:
        comp_emoji = 'ğŸª’'
    print(f'I Chose: {comp_emoji}\n')
    return comp_emoji


def user_choice():
    global choice
    if choice == 'r':
        user_emoji = 'ğŸ—¿'
    elif choice == 'p':
        user_emoji = 'ğŸ“ƒ'
    else:
        user_emoji = 'ğŸª’'
    print(f'\nYou Chose: {user_emoji}')
    return user_emoji


def play():
    global choice
    global match_count
    global match_win_count
    global match_draw_count
    global match_lost_count
    round_count = 1
    user_win = 0
    comp_win = 0
    while round_count != 6:
        print(f"\nMatch {match_count}: Round {round_count}")
        choice = input(
            "\nChoose rock, paper, or scissors? ('r'/'p'/'s'): ").lower()
        if choice not in ('r', 'p', 's'):
            print("Invalid choice. Please enter 'r', 'p', or 's'.")
            play()
        else:
            user_emoji = user_choice()
            comp_emoji = computer_choice()
            if user_emoji == comp_emoji:
                print('Tie!')
            elif user_emoji == 'ğŸ—¿' and comp_emoji == 'ğŸ“ƒ':
                print('Paper wraps rock. You lose!')
                comp_win += 1
            elif user_emoji == 'ğŸ—¿' and comp_emoji == 'ğŸª’':
                print('Rock smashes scissors. You win!')
                user_win += 1
            elif user_emoji == 'ğŸ“ƒ' and comp_emoji == 'ğŸ—¿':
                print('Paper wraps rock. You win!')
                user_win += 1
            elif user_emoji == 'ğŸ“ƒ' and comp_emoji == 'ğŸª’':
                print('Scissors cut paper. You lose!')
                comp_win += 1
            elif user_emoji == 'ğŸª’' and comp_emoji == 'ğŸ“ƒ':
                print('Scissors cut paper. You win!')
                user_win += 1
            elif user_emoji == 'ğŸª’' and comp_emoji == 'ğŸ—¿':
                print('Rock smashes scissors. You lose!')
                comp_win += 1
            else:
                print('Unexpected outcome. You get a lucky win!')
                user_win += 1
        round_count += 1
    print(
        f"\nğŸ Result of match {match_count} ğŸ\n\nYou: {user_win}\nMe: {comp_win}\n\n")
    if user_win > comp_win:
        print(f"You win match {match_count}! ğŸ‰ğŸ‰")
        match_win_count += 1
    elif user_win < comp_win:
        print(
            f"You lose match {match_count}! Don't worry, you can always try again!")
        match_lost_count += 1
    else:
        print("We got a draw! Don't worry, we can always try again!")
        match_draw_count += 1
    match_count += 1
    print('\n')
    play_choice()


def play_choice():
    global match_count
    global match_win_count
    global match_draw_count
    global match_lost_count
    play_input = input('Play a match or quit? (p/q): ').lower()
    if play_input == 'p':
        play()
    elif play_input == 'q':
        print(
            f'\nğŸˆFinal TallyğŸˆ\nğŸ¡Total Matches Won: {match_win_count}\nğŸ¥–Total Matches Drawn: {match_draw_count}\nğŸ›‘Total Matches Lost: {match_lost_count}')
        print('\nThanks for joining me! See you soon! ğŸŠ')
        print('\n' + 'ğŸ—¿ğŸ“ƒğŸª’' * 10 + '\n')
    else:
        print('Invalid input. Please input \'p\' to play or \'q\' to quit the program.\n')
        play_choice()


play_choice()
